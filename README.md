# README

---

## 1. ğŸ“Œ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

```
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€
ãƒ»Next.js 15
ãƒ»GraphQL
ãƒ»Ruby on Rails
ãƒ»MySQL
ã‚’çµ„ã¿åˆã‚ã›ãŸãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯æ§‹æˆã®PoCã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

å­¦ç”Ÿå‘ã‘å°±æ´»ã‚µãƒ¼ãƒ“ã‚¹ã‚’é¡Œæã«è¨­è¨ˆãƒ»å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚
```

* **ç›®çš„**ï¼š

  * Next.js App Routerãƒ»GraphQLãƒ»Apollo Clientãƒ»Railsãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»èªè¨¼åŸºç›¤ã®ç†è§£
  * BFFçš„ãƒ•ãƒ­ãƒ³ãƒˆè¨­è¨ˆ / å‹é§†å‹•é–‹ç™º / UIåˆ†é›¢ï¼ˆStorybookï¼‰ã‚’å®Ÿè·µ

* **æŠ€è¡“é¸å®šç†ç”±**ï¼š
  * Next.js 15: æœ€æ–°ã®App Routerã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç†è§£ãŠã‚ˆã³Server Componentå®Ÿè·µ
  * GraphQL + Codegen: ãƒ‡ãƒ¼ã‚¿å‹èµ·ç‚¹ã®é–‹ç™ºã¨UIè¦æ±‚ãƒ™ãƒ¼ã‚¹APIè¨­è¨ˆæ¤œè¨¼
  * Rails: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ãƒ»æ°¸ç¶šåŒ–æ‹…å½“ã¨ã—ã¦GraphQL APIå°‚ä»»ãƒ¬ã‚¤ãƒ¤ãƒ¼åŒ–ã®æ¤œè¨¼
---

## 2. ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ§‹æˆå›³

![Architecture](docs/architecture.svg)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Next.js 15 (App Router, TS, Apollo, Redux) â”‚
â”‚   â”œâ”€ UI: Tailwind / Radix UI               â”‚
â”‚   â”œâ”€ GraphQL Hooks (generated)             â”‚
â”‚   â””â”€ Auth: NextAuth                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“ GraphQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ruby on Rails 6 (graphql-ruby, MySQL)      â”‚
â”‚   â””â”€ Models: Company / Job / Interest      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Firebase Analytics (optional telemetry)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ğŸš€ æ©Ÿèƒ½ä¸€è¦§

|ã‚«ãƒ†ã‚´ãƒª|æ©Ÿèƒ½|ä½¿ç”¨æŠ€è¡“|
|---|---|---|
|ãƒ¦ãƒ¼ã‚¶ãƒ¼|GitHubãƒ­ã‚°ã‚¤ãƒ³|NextAuth|
|æ±‚è·æƒ…å ±|æ±‚äººä¸€è¦§è¡¨ç¤º|GraphQL Query + SSG|
|è©³ç´°ç”»é¢|æ±‚äººè©³ç´°è¡¨ç¤º|Apollo Client|
|æ“ä½œ|ã€Œèˆˆå‘³ã‚ã‚Šã€ã‚¯ãƒªãƒƒã‚¯|GraphQL Mutation|
|ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«|å…¥åŠ›/ç·¨é›†/ä¿å­˜|React Hook Form + Zod|
|é–‹ç™ºDX|UIã‚«ã‚¿ãƒ­ã‚°|Storybook|

---

## 4. ğŸ§© æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

```
Frontend:
- Next.js 15 (App Router)
- React 18
- TypeScript 5
- Apollo Client + graphql-codegen
- Redux Toolkit
- Tailwind CSS + Radix UI
- React Hook Form + Zod
- NextAuth
- Storybook
- ESLint + Prettier

Backend:
- Ruby 3.1.x (Docker image base)
- Rails 6.1.7.x
- graphql-ruby
- MySQL 8

Infra:
- Docker / docker-compose
- Firebase Analytics
```

---

## 5. âš™ï¸ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

```sh
# 0. ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ”ãƒ¼(åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å‰æº–å‚™)
# ï¼ˆç’°å¢ƒå¤‰æ•°å°å…¥å¾Œã«ä½¿ç”¨äºˆå®šï¼‰
cp .env.example .env.local

# 1. åˆå›ãƒ“ãƒ«ãƒ‰
docker compose build

# 2. DBèµ·å‹•
docker compose up -d db

# 3. Rails DB ä½œæˆ
docker compose run --rm api bundle exec rails db:create db:migrate

# 4. ã‚¢ãƒ—ãƒªèµ·å‹•
docker compose up

```
### åˆå›æ­£å¸¸èµ·å‹•ã®åˆ¤å®šãƒã‚§ãƒƒã‚¯

### Next.js
http://localhost:3100 ã‚’é–‹ãã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆã‚¨ãƒ©ãƒ¼ç”»é¢ã§ã‚‚OKï¼‰

### Rails API
http://localhost:3101/graphql ã‚’é–‹ãã€GraphQLã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒè¦‹ãˆã‚‹
ï¼ˆ404ã§ã‚‚Railsèµ·å‹•ã—ã¦ã‚Œã°OKï¼‰

### MySQL
rails db:createãŒæˆåŠŸã—ã¦ã‚Œã°OK

---

## 6. ğŸ”§ é–‹ç™ºãƒãƒªã‚·ãƒ¼

### 6-1. ãƒ•ãƒ­ãƒ³ãƒˆè¨­è¨ˆæ–¹é‡

| é …ç›®    | æ–¹é‡                                                    |
| ----- | ----------------------------------------------------- |
| ãƒ‡ãƒ¼ã‚¿å–å¾— | `Server Component â†’ Apollo Client (Client Component)` |
| çŠ¶æ…‹ç®¡ç†  | Apolloã§å¸åã§ãã‚‹ã‚‚ã®ã¯Apolloã€UIçŠ¶æ…‹ã¯Redux                      |
| UI    | TailwindåŸºç›¤ã€å†åˆ©ç”¨ãƒ‘ãƒ¼ãƒ„ã¯Radixãƒ™ãƒ¼ã‚¹                            |

---

### 6-2. GraphQLæ€æƒ³

* UIãƒ‰ãƒªãƒ–ãƒ³ãªã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ
* Mutationã¯æ„å›³ãŒä¼ã‚ã‚‹å˜ä½ã§è¨­è¨ˆ
* graphql-codegen ã«ã‚ˆã‚‹å‹é§†å‹•

---

### 6-3. Next.jsæ§‹æˆæ–¹é‡

| åŒºåˆ†     | å®Ÿè£…                                               |
| ------ | ------------------------------------------------ |
| ãƒ‡ãƒ¼ã‚¿å–å¾—  | `Server Components + Apollo (Client Components)` |
| çŠ¶æ…‹ç®¡ç†   | ãƒ“ã‚¸ãƒã‚¹çŠ¶æ…‹ï¼Apollo / UIçŠ¶æ…‹ï¼Redux Toolkit               |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° | Tailwind + Radix UIï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æº–æ‹ ï¼‰                  |

---

## 7. ğŸ§ª Storybookãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

```
npm run storybook
```

Storybookã§UI/çŠ¶æ…‹é·ç§»ç¢ºèªå¯èƒ½ã€‚

ä¾‹ï¼š

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ       | Storyä¾‹            |
| ------------- | ----------------- |
| `JobCard`     | é€šå¸¸ / Hover / å¿œå‹Ÿæ¸ˆã¿ |
| `ProfileForm` | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ / åˆæœŸçŠ¶æ…‹ |

---

## 8. ğŸ“ˆ Firebase è¨ˆæ¸¬é …ç›®

| ã‚¤ãƒ™ãƒ³ãƒˆ                  | ç›®çš„            |
| --------------------- | ------------- |
| `view_job_detail`     | é–²è¦§å‹•ç·šæŠŠæ¡        |
| `send_interest_click` | ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®è©•ä¾¡ |

---

## 9. âœ¨ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

* ä¼æ¥­æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿
* ç®¡ç†ç”»é¢ï¼ˆç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ï¼‰
* CI/CDï¼ˆGitHub Actionsï¼‰
ãªã©

---

## 10. ğŸ” ã“ã®PoCã‹ã‚‰å¾—ãŸå­¦ã³

* GraphQL + codegen ã«ã‚ˆã‚‹å‹å®‰å…¨ãªé–‹ç™º
* App Routerè¨­è¨ˆã¨Server/Client Componentåˆ†é›¢ã®å®Ÿè·µ
* Railså´è²¬å‹™ã¨ãƒ•ãƒ­ãƒ³ãƒˆBFFè²¬å‹™ã®æ•´ç†ã®é‡è¦æ€§

---

## é–‹ç™ºãƒ¡ãƒ¢

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```txt
CareermapPoc/
  backend/   # Rails 6 (GraphQL, MySQL)
  frontend/  # Next.js 15 (App Router ä»–)
  docker-compose.yml
  docs/
    architecture.svg
  README.md
```

### ãƒãƒ¼ãƒˆ
```yml
web:    ports: ["3100:3000"]  # Next.js
api:    ports: ["3101:3000"]  # Rails
db:     ports: ["3307:3306"]
```